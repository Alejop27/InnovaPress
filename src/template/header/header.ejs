<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        <%= siteName %> - Noticias de Proyectos Integradores
    </title>
    <link rel="stylesheet" href="/css/header.css">
</head>

<body>
    <header class="header <%= isSticky ? 'header--sticky' : '' %>">
        <div class="header__container">
            <div class="header__brand">
                <img src="<%= logo %>" alt="<%= siteName %>" class="header__logo">
                <h1 class="header__title">
                    <%= siteName %>
                </h1>
            </div>

            <nav class="header__nav">
                <ul class="header__nav-list">
                    <% navigation.forEach(function(item) { %>
                        <li class="header__nav-item">
                            <a href="<%= item.url %>"
                                class="header__nav-link <%= item.isActive ? 'header__nav-link--active' : '' %>">
                                <%= item.label %>
                            </a>
                        </li>
                        <% }); %>
                </ul>
            </nav>

            <div class="header__actions">
                <div class="header__auth">
                    <a href="/login" class="header__auth-link">Iniciar Sesión</a>
                    <a href="/register" class="header__auth-link header__auth-link--register">Registrarse</a>
                </div>
            </div>
        </div>
    </header>

    <main class="main-content">
        <div class="welcome-section">
            <h1 class="welcome-title">Bienvenido a <%= siteName %>
            </h1>
            <p class="welcome-subtitle">Noticias de Proyectos Integradores</p>
            <p>El sitio está en construcción. Próximamente más componentes...</p>
            <div style="margin-top: 2rem;">
                <a href="/health" class="header__auth-link header__auth-link--register">Ver Estado del Servidor</a>
            </div>
        </div>
    </main>

    <script>
        // Efecto de scroll para el header
        window.addEventListener('scroll', function () {
            const header = document.querySelector('.header')
            if (window.scrollY > 50) {
                header.classList.add('header--scrolled')
            } else {
                header.classList.remove('header--scrolled')
            }
        })

        console.log('<%= siteName %> cargado correctamente')

        // Verificar si el CSS se cargó
        const stylesheets = document.styleSheets;
        let cssLoaded = false;

        for (let i = 0; i < stylesheets.length; i++) {
            if (stylesheets[i].href && stylesheets[i].href.includes('header.css')) {
                cssLoaded = true;
                break;
            }
        }
        if (!cssLoaded) {
            console.warn('El CSS externo no se cargó, usando estilos inline');
        } else {
            console.log('CSS cargado correctamente');
        }
    </script>
</body>

</html>